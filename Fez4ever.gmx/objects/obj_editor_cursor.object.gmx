<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_editor_cursor</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>z=0;

instance_create(x,y,obj_editor_camera_look);
instance_create(x,y,obj_editor_camera);

for (i=0; i&lt;=30; i++) {
    for (j=0; j&lt;=35; j++) {
        matriz_desenho_0[i,j]=-1;
        matriz_desenho_180[i,j]=-1;
        matriz_textura_0[i,j]=-1;
        matriz_textura_180[i,j]=-1;
        matriz_profundidade_0[i,j]=-1;
        matriz_profundidade_180[i,j]=-1;
    }
}
for (i=0; i&lt;=40; i++) {
    for (j=0; j&lt;=35; j++) {
        matriz_desenho_90[i,j]=-1;
        matriz_desenho_270[i,j]=-1;
        matriz_textura_90[i,j]=-1;
        matriz_textura_270[i,j]=-1;
        matriz_profundidade_90[i,j]=-1;
        matriz_profundidade_270[i,j]=-1;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Código a ser executado a cada frame:

//Limitar as variáveis para não vazarem pra fora do mapa:
x=median(0,x,640-16);
y=median(0,y,480-16);
z=median(0,z,560-16);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Códigos de desenho do cursor

//Desenha o bloquinho fofinho do editor.
d3d_draw_block(x,y,z+16,x+16,y+16,z,sprite_get_texture(spr_editor_cursor,0),1,1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="83">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>arquivo=file_text_open_write(get_save_filename("Fez4ever levels|*.f4e",""));
file_text_write_string(arquivo,string(obj_editor_gomez.x));
file_text_writeln(arquivo);
file_text_write_string(arquivo,string(obj_editor_gomez.y));
file_text_writeln(arquivo);
file_text_write_string(arquivo,string(obj_editor_gomez.z));
file_text_writeln(arquivo);
file_text_write_string(arquivo,string(instance_number(obj_editor_block)));
file_text_writeln(arquivo);
with (obj_editor_block) {
    file_text_write_string(other.arquivo,string(x));
    file_text_writeln(other.arquivo);
    file_text_write_string(other.arquivo,string(y));
    file_text_writeln(other.arquivo);
    file_text_write_string(other.arquivo,string(z));
    file_text_writeln(other.arquivo);
}
file_text_close(arquivo);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Código para o pressionamento da tecla R

//Como ainda não implementei o que acontece caso o personagem caia do mapa, basta apertar R que o jogo reinicia. :)
game_restart();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="81">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>z-=16;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="79">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>arquivo=file_text_open_read(get_open_filename("Fez4ever levels|*.f4e",""));
create_gomez_x=file_text_read_string(arquivo);
file_text_readln(arquivo);
create_gomez_y=file_text_read_string(arquivo);
file_text_readln(arquivo);
create_gomez_z=file_text_read_string(arquivo);
file_text_readln(arquivo);
num_blocks=file_text_read_string(arquivo);
file_text_readln(arquivo);
repeat(real(num_blocks)) {
    create_block_x=file_text_read_string(arquivo);
    file_text_readln(arquivo);
    create_block_y=file_text_read_string(arquivo);
    file_text_readln(arquivo);
    create_block_z=file_text_read_string(arquivo);
    file_text_readln(arquivo);
    create_block=instance_create(real(create_block_x),real(create_block_y),obj_editor_block);
    create_block.z=real(create_block_z);
}
create_gomez=instance_create(real(create_gomez_x),real(create_gomez_y),obj_editor_gomez);
create_gomez.z=real(create_gomez_z);
file_text_close(arquivo);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="69">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>z+=16;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="40">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Código para quando apertar a tecla para baixo

//De acordo com a câmera, o cursor deve se mover para baixo de onde a visão está.
if (obj_editor_camera.direcao==0) { x+=16; }
if (obj_editor_camera.direcao==90) { y-=16; }
if (obj_editor_camera.direcao==180) { x-=16; }
if (obj_editor_camera.direcao==270) { y+=16; }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="39">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Código para quando apertar a tecla para a direita

//De acordo com a câmera, o cursor deve se mover para a direita de onde a visão está.
if (obj_editor_camera.direcao==0) { y-=16; }
if (obj_editor_camera.direcao==90) { x-=16; }
if (obj_editor_camera.direcao==180) { y+=16; }
if (obj_editor_camera.direcao==270) { x+=16; }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="38">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Código para quando apertar a tecla para cima

//De acordo com a câmera, o cursor deve se mover para cima de onde a visão está.
if (obj_editor_camera.direcao==0) { x-=16; }
if (obj_editor_camera.direcao==90) { y+=16; }
if (obj_editor_camera.direcao==180) { x+=16; }
if (obj_editor_camera.direcao==270) { y-=16; }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="37">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Código para quando apertar a tecla para a esquerda

//De acordo com a câmera, o cursor deve se mover para a esquerda de onde a visão está.
if (obj_editor_camera.direcao==0) { y+=16; }
if (obj_editor_camera.direcao==90) { x+=16; }
if (obj_editor_camera.direcao==180) { y-=16; }
if (obj_editor_camera.direcao==270) { x-=16; }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>funcao=0;
with (obj_editor_block) {
    if (x==obj_editor_cursor.x) and
    (y==obj_editor_cursor.y) and
    (z==obj_editor_cursor.z) {
        obj_editor_cursor.funcao=1;
        instance_destroy();        
    }
}
if (funcao==0) {
    id_bloco=instance_create(x,y,obj_editor_block);
    id_bloco.z=z;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>id_bloco=instance_create(x,y,obj_editor_gomez);
id_bloco.z=z;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>8,8</point>
  </PhysicsShapePoints>
</object>
